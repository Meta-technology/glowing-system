var nonsecparam="http",secparam="https",param={};$a=function(a){return document.getElementById(a)},$1=function(a){return document.createElement(a)},"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b});var timeoutObj;String.prototype.trim=function(){var a=this;return a=a.replace(/^\s*(.*)/,"$1"),a=a.replace(/(.*?)\s*$/,"$1")};var evaluate=function(a){return"object"==typeof a?a:"string"==typeof a?JSON.parse(a.replace(/'/g,'"')):a},isValidResult=function(a,b){return closeDiv($a("lodingDiv")),closeDiv($a("ms1")),1==a[0]||(b||(a[1].st?showErrMsg(a[1].st):a[1].e&&showErrMsg(a[1].e)),!1)},displayDiv=function(a){if(a){a.style.display="";var b=(document.body.offsetHeight-a.offsetHeight)/2,c=(document.body.offsetWidth-a.offsetWidth)/2;a.style.top=b+"px",a.style.left=c+"px",a.style.display="block"}},showMsg=function(a,b,c){if(b||c){$("#spanMessage").text(a),$("#spanMessage").removeAttr("style"),$("#spanMessage").css({"background-color":"#FACA48",border:"none","line-height":"20px","text-align":"center"}),$a("ms1").style.display="";var d=(document.body.offsetWidth-$a("ms1").offsetWidth)/2;$a("ms1").style.left=d+"px",timeoutObj&&clearTimeout(timeoutObj);var e=6e3;b?(e=1e4,timeoutObj=setTimeout(function(){closeDiv($a("ms1"))},e)):$("#ms1").fadeOut(e)}else closeDiv($a("lodingDiv"))},showErrMsg=function(a,b,c){if(b)$a("spanMessage").innerHTML='<div style="float:right;position:relative;right:-10px;top:1px;" class="errqclose"></div>'+a;else{var d=document.createElement("div");d.className="errqclose",$a("spanMessage").innerHTML="",d.setAttribute("style","float:right;position:relative;right:-10px;top:1px;"),$a("spanMessage").appendChild(d),$a("spanMessage").appendChild(document.createTextNode(a))}$("#spanMessage .errqclose").click(function(){closeDiv($a("ms1"))}),$("#spanMessage").removeAttr("style");var e="#F67784";c&&(e="#489D5B"),$("#spanMessage").css({"background-color":e,border:"none","word-wrap":"break-word","line-height":"normal","text-align":"center","font-size":"14px","border-radius":"4px",padding:"6px 20px 6px 15px",color:"#fff"}),$a("ms1").style.display="";var f=(document.body.offsetWidth-$a("ms1").offsetWidth)/2;$a("ms1").style.left=f+"px",timeoutObj&&clearTimeout(timeoutObj),$("#ms1").stop().fadeOut(0,function(){$("#ms1").show()}),closeDiv($a("lodingDiv"))},showMsgUntil=function(a,b){b?($a("spanMessage").innerHTML="",$a("spanMessage").appendChild(a)):$("#spanMessage").text(a),$("#spanMessage").css({"background-color":"#FACA48",border:"none"}),$a("ms1").style.display="";var c=(document.body.offsetWidth-$a("ms1").offsetWidth)/2;$a("ms1").style.left=c+"px"},showDiv=function(a){a&&(a.style.display="")},closeDiv=function(a){a&&(a.style.display="none")},showElement=function(a){$a(a)&&($a(a).style.display="")},hideElement=function(a){$a(a)&&($a(a).style.display="none")},removeElement=function(a){$a(a)&&document.getElementById(a).remove()},getValue=function(a){return $a(a)?"B"==$a(a).nodeName?$a(a).innerHTML:$a(a).value:0},setValue=function(a,b){$a(a)&&("B"==$a(a).nodeName?$a(a).innerHTML=b:$a(a).value=b)},getinnerHTML=function(a){if($a(a))return"INPUT"==$a(a).nodeName?$a(a).value:$a(a).innerHTML},setinnerHTML=function(a,b){$a(a)&&("INPUT"==$a(a).nodeName?$a(a).value=b:$("#"+a).text(b))},setHTML=function(a,b){$a(a)&&("INPUT"==$a(a).nodeName?$a(a).value=b:$a(a).innerHTML=b)},showMsgDiv=function(a,b,c){c?$a(b).innerHTML="* "+a:$($a(b)).text("* "+a),$a(b).style.display="",timeoutObj&&clearTimeout(timeoutObj)},hideMsgDiv=function(a){$a(a).innerHTML="",$a(a).style.display="none"},getClass=function(a){if($a(a))return $a(a).className},setClass=function(a,b){$a(a)&&($a(a).className=b)},findPosX=function(a){var b=0;if($||document.all)for(;a.offsetParent;)b+=a.offsetLeft,a=a.offsetParent;else document.layers&&(b+=a.x);return b},findPosY=function(a){var b=0;if($||document.all)for(;a.offsetParent;)b+=a.offsetTop,a=a.offsetParent;else document.layers&&(b+=a.y);return b},specialcharreplace=function(a){return a=a.replace(/&amp;/g,"&"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&quot;/g,'"'),a=a.replace(/&apos;/g,"'"),a=a.replace(/&#39;/g,"'")},isNumeric=function(a){var b=/^[0-9]+$/;return!!a.value.match(b)},isEmpty=function(a){var b=a.trim();return!(b.length>0)},inArray=function(a,b){for(var c in b){var d=b[c];if(d=d.toString(),d.trim()==a.trim())return!0}return!1},removeChNode=function(a){for(;a.childNodes[0];)a.removeChild(a.childNodes[0])},revspecialcharrep=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/\"/g,"&quot;"),a=a.replace(/'/g,"&apos;"),a=a.replace(/'/g,"&#39;")},getCookie=function(a){for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c].substr(0,b[c].indexOf("=")),e=b[c].substr(b[c].indexOf("=")+1);if(null!=d&&d.trim()==a)return unescape(e)}return null},setCookie=function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=escape(b)+(null==c?"":"; expires="+d.toUTCString());document.cookie=a+"="+e},deleteCookie=function(a){document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},checkCookie=function(a,b){var c=getCookie(a);return!(!c||c!=b)},in_array=function(a,b){for(var c in b){var d=b[c];if(d=d.toString(),d.trim()==a.trim())return!0}return!1},loadAjaxError=function(){$(document).ajaxError(function(a,b,c,d){var e=JSON.parse(b.responseText);if(e[1]&&e[1].st){if("AUTHENTICATION_FAILED"===e[1].st)return window.location.href="/biz/login",!1;cp.showErrorMesg(e[1].st)}})},createHiddenDOM=function(a,b,c){if(document.forms[a][b])document.forms[a][b].value=c;else{var d=document.createElement("input");d.type="hidden",d.name=b,d.id=b,d.value=c,document.forms[a].appendChild(d)}},addZOIDinReqUrl=function(a,b){if($a("childZOID"))if("param"===b)a.zoid=$a("childZOID").value;else if("url"===b)a=a+(a.indexOf("?")!=-1?"&":"?")+"zoid="+$a("childZOID").value;else if("form"==b){var c=$a(a+"");if(null==c.zoid){var d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name","zoid"),d.setAttribute("value",$a("childZOID").value),$a(a+"").appendChild(d)}else c.zoid.value=$a("childZOID").value}return"pageReload"===b||"pageReloadInTab"===b?($a("childZOID")&&$a("partnerPortalZoid")&&($a("partnerPortalZoid").value=$a("childZOID").value),$a("childZOID")&&""!==a&&(a+=(a.indexOf("?")!=-1?"&":"?")+"zoid="+$a("childZOID").value),void(""!==a&&"pageReloadInTab"===b?window.open(a):""!==a?window.location.href=a:window.location.reload())):a},addPagination=function(a,b,c,d,e,f,g){if(e.innerHTML="",d>0){var h,i=$1("div");i.className="zbnextda";var j=$1("div");j.className="zbprevda";var k=$1("span");k.setAttribute("style","float:left;"),a>=b&&(j.onclick=function(){f(a-b)}),c?(a+b>=d?h=d:(h=a+b,i.onclick=function(){g(a+b)}),$(k).text(a+1+" - "+h+" "+$a("commonOF").value+" "+d)):(b<d?(i.onclick=function(){g(a+b)},h=a+b):h=a+d,$(k).text(a+1+" - "+h)),e.appendChild(j),e.appendChild(k),e.appendChild(i)}return!0},getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a},isAuthenticated=function(){param={},param.mode="isAuthenticated",cpAjax(conPath+"/userDetailsAct.do",param,function(a){})},registerMailChat=function(a){try{if(chatstatus){document.domain.endsWith(zohoUrl)||WebMessanger.useSameDomain(),WebMessanger.setNoDomainChange(),WebMessanger.enableTokenPairAuth(),isFuji&&(WebMessanger.setRebrand("fuji"),WebMessanger.disableMeeting(),WebMessanger.setIamServer(secparam+"://accounts."+zohoUrl),WebMessanger.setChatServer(nonsecparam+"://chat."+zohoUrl+"/"),WebMessanger.setPhotoServer(secparam+"://contacts."+zohoUrl),WebMessanger.setCalendarServer(secparam+"://calendar."+zohoUrl),WebMessanger.setMailServer(secparam+"://mail."+zohoUrl+"/"),WebMessanger.setJsStaticDomain(staticJsUrl),WebMessanger.setCssStaticDomain(staticCssUrl)),"zh"!=language&&"ja"!=language||WebMessanger.setLocale(language,language);var b=WMSSessionConfig.CHAT|WMSSessionConfig.CHAT_PRESENCE|WMSSessionConfig.PRESENCE_ORG|WMSSessionConfig.PRESENCE_PERSONAL|WMSSessionConfig.MULTI_DISPATCH|WMSSessionConfig.CROSS_PRD;WebMessanger.setConfig(b),WebMessanger.enableGlobalSearch(),WebMessanger.disableDragDrop(),WebMessanger.registerZuid(chatServiceName,ZUID+"",primaryEmail,!!a)}}catch(c){}},keyPressOnlyNumbers=function(a){$.inArray(a.keyCode,[46,8,9,27,13,110,190])!==-1||65==a.keyCode&&(a.ctrlKey===!0||a.metaKey===!0)||67==a.keyCode&&(a.ctrlKey===!0||a.metaKey===!0)||88==a.keyCode&&(a.ctrlKey===!0||a.metaKey===!0)||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105)&&a.preventDefault()},getCSRFToken=function(){var a=getCookie(csrfCookieName);return null==a?csrfToken:a},cpAjax=function(a,b,c,d,e){d=d||"POST";var f=!1,g="",h=!1,i=void 0;"dontValidate"in b&&(f=!0,delete b.dontValidate),"customErrMsg"in b&&(g=b.customErrMsg,delete b.customErrMsg),"errCallback"in b&&(i=b.errCallback,delete b.errCallback),"isRestApi"in b&&(h=b.isRestApi,delete b.isRestApi),h||(b[csrfParamName]=getCSRFToken()),"payLoadAsString"in b&&(delete b.payLoadAsString,b=JSON.stringify(b));var j={url:a,type:d,data:b,success:function(a){var b=evaluate(a);if(f)c(b);else{if(""!=g){if(h){if(!b.status||!b.status.code||200!==b.status.code)return showErrMsg(g),closeDiv($a("lodingDiv")),!1}else if(1!=b[0])return showErrMsg(g),closeDiv($a("lodingDiv")),!1}else if(h)closeDiv($a("lodingDiv")),closeDiv($a("ms1")),b.status&&b.status.code&&(200===b.status.code||201===b.status.code)||showErrMsg(b.status.description);else if(!isValidResult(b))return!1;c(h?b.data:b[1])}closeDiv($a("lodingDiv"))},error:function(a,b){var c=evaluate(a.responseText);f&&i?i(c):null!=c&&showErrMsg(c[1].e),closeDiv($a("lodingDiv"))}};h&&(j.headers={},j.headers["X-ZCSRF-TOKEN"]=csrfParamName+"="+getCSRFToken(),"put"===d.toLowerCase()||"post"===d.toLowerCase()?j.headers["Content-Type"]="application/json; charset=UTF-8":j.headers["Content-Type"]="application/x-www-form-urlencoded"),e||displayDiv($a("lodingDiv")),$.ajax(j)},calendarAjax=function(a,b,c,d){d=d||"POST",b.mstpcrdhkur=getCSRFToken();var e={url:a,type:d,data:b,success:function(a){var b=evaluate(a);c(b),closeDiv($a("lodingDiv"))},error:function(a,b){var c=evaluate(a.responseText);showMsg(c.error[0].description),closeDiv($a("lodingDiv"))}};displayDiv($a("lodingDiv")),$.ajax(e)},getI18nValue=function(a,b,c){var d="";try{var e=acData.text[a];if(e&&e[b]&&(d=e[b],""!==d&&c))if(c.constructor===Array)for(var f in c)d=d.replace(new RegExp("\\{"+f+"\\}","g"),c[f]);else d=d.replace(/\{0\}/g,c+"")}catch(g){}return d},htmlescape=function(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getConfirmation=function(a,b,c,d,e){var f=e&&e.okLabel?e.okLabel:$a("warningok").value,g=e&&e.cancelLabel?e.cancelLabel:$a("warningcancel").value;if(0==$("#confirmMask").length){var h=[];h.push('<div style="display;none;opacity: 0.4; position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; z-index: 20; cursor: wait; background-color: rgb(187, 187, 187);" id="confirmMask"></div>'),h.push('<div id="confirmBox" style="width:500px; position: absolute; left:38%; top:35%; z-index:999;display:none;">'),h.push('<div><b class="wtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>'),h.push('<div class="wcntrhd"><div id="confirmClose" class="qclose" style="padding-right:5px;"></div>'),h.push('<span style="padding-left:10px;float:left;">'+(e&&e.header?e.header:$a("warningmsg").value)+"</span></div>"),h.push('<div class="wcenter"><div><b class="mtop"><b class="r2"></b><b class="r3"></b><b class="r4"></b></b></div>'),h.push('<div class="white" width="100%"><table cellspacing="10" cellpadding="0" border="0" width="100%" >'),h.push("<tr>"),e&&e.hideIcon?h.push('<td width="7%" align="center" valign="top"></td>'):h.push('<td width="15%" align="center" valign="top"><img src="'+imgPath+conPath+'/img/spacer.gif" border="0" class="warning-icon"></td>'),h.push('<td width="85%">'),h.push('<ul class="warning-list" id="confirmText"><li><h1><b></b></h1></li>'),h.push('<li><span id="confirmMsg">'+a+"</span>"),c&&h.push('<a id="confirmHelpLink" href="'+c+'" target="_blank" style="text-decoration:underline;color:#4aa3df;margin-left:5px;">'+$a("learnmore").value+"</a>"),h.push('</li></ul><ul class="warning-list"><li>'),h.push('<div class="butn" style="position: relative;margin-left:0px;margin-top:15px;margin-bottom:5px;">'),h.push('<input type="button" id="confirmOk" class="button" value="'+f+'">'),h.push('<input type="button" id="confirmCancel" class="button" value="'+g+'">'),h.push("</div></li></ul></td></tr></table></div>"),h.push('<div><b class="mbottom"><b class="r4"></b><b class="r3"></b></b></div></div>'),h.push('<div><b class="wbottom"><b class="r4"></b><b class="r3"></b></b></div></div></div>'),$("body").append(h.join(""))}$("#confirmMsg").html(a),c?$("#confirmHelpLink").attr("href",c):$("#confirmHelpLink").hide(),$("#confirmMask").show(),$("#confirmBox").show(),$("#confirmOk").val(f).unbind("click").click(function(){$("#confirmMask").hide(),$("#confirmBox").hide(),b()}),$("#confirmCancel").val(g),$("#confirmCancel,#confirmClose").unbind("click").click(function(){$("#confirmMask").hide(),$("#confirmBox").hide(),d&&d()})},getRestAPIUrl=function(a,b){return b?a="/cpanel/zmvault"+a:document.domain.endsWith(zohoUrl)&&document.domain!==business_url&&(a="/cpanel/restapi"+a),a},calendarLoad=function(){var a=!1,b={load:function(){var b=$.Deferred();return a?b.resolve():$.ajax({url:"/cpanel/ncal/loadjs.do",type:"GET",success:function(c){a=!0,c=c[1],$("head").append('<link rel="stylesheet" type="text/css" href="https://'+c.cssPath+c.picker.css[0]+'">'),$.getScript("https://"+c.jsPath+"zcalpicker.js",function(a,c,d){b.resolve()})}}),b.promise()}};return b}(),getDateObject=function(a){var b=a.split("/");if("dd/mm/yyyy"===dateFrmt.toLowerCase()){var c=new Date(b[2],parseInt(b[1])-1,b[0]);return c}if("mm/dd/yyyy"===dateFrmt.toLowerCase()){var c=new Date(b[2],parseInt(b[0])-1,b[1]);return c}if("yyyy/mm/dd"===dateFrmt.toLowerCase()){var c=new Date(b[0],parseInt(b[1])-1,b[2]);return c}},convertDateFormat=function(a){var b=a.getDate(),c=b<=9?"0"+b:b,d=(1==(a.getMonth()+1+"").length?"0":"")+(a.getMonth()+1),e=a.getFullYear();return"dd/mm/yyyy"===dateFrmt.toLowerCase()?c+"/"+d+"/"+e:"mm/dd/yyyy"===dateFrmt.toLowerCase()?d+"/"+c+"/"+e:"yyyy/mm/dd"===dateFrmt.toLowerCase()?e+"/"+d+"/"+c:void 0};